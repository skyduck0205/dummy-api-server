(this["webpackJsonpdummy-web"]=this["webpackJsonpdummy-web"]||[]).push([[0],{279:function(e,t,a){e.exports=a(563)},407:function(e,t,a){e.exports=a(569)},563:function(e,t){e.exports=function(){return Date.now().toString(36)}},569:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"listAPIs",(function(){return $})),a.d(n,"createAPI",(function(){return Q})),a.d(n,"updateAPI",(function(){return X})),a.d(n,"deleteAPI",(function(){return Z}));var r=a(0),o=a.n(r),c=a(15),i=a.n(c),s=a(587),l=a(116),u=a(600),d=a(271),m=a.n(d),p=a(397),f=a.n(p),h=a(603),b=a(601),E=a(334),g=a(92),v=a(229),C=a(27),k=a(37),O=a(386),y=a.n(O),j=a(328),x=a(16),w=a(263),I=a(276),P=a(333),A=a(212),S=a(331),D=a(335),z=a(606),R=a(59),N=a.n(R),L=a(105);function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.useState)(Object(C.a)({isLoading:!1,data:null,error:null},t)),n=Object(k.a)(a,2),o=n[0],c=n[1],i=Object(r.useRef)(0),s=Object(r.useCallback)(function(){var t=Object(L.a)(N.a.mark((function t(){var a,n,r=arguments;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.current+1,i.current=a,c((function(e){return Object(C.a)({},e,{isLoading:!0})})),t.prev=3,t.next=6,e.apply(void 0,r);case 6:n=t.sent,a===i.current&&c({isLoading:!1,data:n,error:null}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a===i.current&&c({isLoading:!1,data:null,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),[e]);return[o,s]}var B=function(){var e=Object(v.b)().enqueueSnackbar;return o.a.useMemo((function(){return{default:function(t,a){return e(t,Object(C.a)({},a))},success:function(t,a){return e(t,Object(C.a)({variant:"success"},a))},error:function(t,a){return e(t,Object(C.a)({variant:"error"},a))},warning:function(t,a){return e(t,Object(C.a)({variant:"warning"},a))},info:function(t,a){return e(t,Object(C.a)({variant:"info"},a))}}}),[e])},F=a(132),T=a.n(F),q=a(106),_=a.n(q),M=a(393),G=a(398),H=a(394),J=a(399),U=function(e){Object(H.a)(a,e);var t=Object(G.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(M.a)(this,a),(e=t.call(this,n.message)).code=n.code,e.message=n.message,e.data=n.data,e}return a}(Object(J.a)(Error));function $(){return K.apply(this,arguments)}function K(){return(K=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("/_ds/apis");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Q(e){return V.apply(this,arguments)}function V(){return(V=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("/_ds/apis",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function X(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(L.a)(N.a.mark((function e(t,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.patch("/_ds/apis/".concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete("/_ds/apis/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}T.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response&&e.response.data)}));var te=n,ae=a(400);var ne=function(e){var t=e.status,a=Object(ae.a)(e,["status"]);return o.a.createElement(w.a,Object.assign({component:"span",color:t>=200&&t<300?"success.main":"error.main"},a),t)},re=a(107),oe=a(125),ce=a(227),ie=a(584),se=a(131),le=a(129),ue=a(602),de=a(351),me=a(269),pe=a(582),fe=a(583),he=a(352);function be(e){var t=e.title,a=e.onCloseClick;return o.a.createElement(w.a,{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(g.a,{variant:"h5"},t),o.a.createElement(A.a,{size:"small",onClick:a},o.a.createElement(S.a,null,"close")))}be.defaultProps={title:"",onCloseClick:function(){}};var Ee=be,ge=Object(j.a)((function(e){return{footer:{"& button + button":{marginLeft:e.spacing(2)}}}}));function ve(e){var t=e.isOkDisabled,a=e.onOkClick,n=e.onCancelClick,r=ge();return o.a.createElement(w.a,{className:r.footer,p:3,py:2,display:"flex",justifyContent:"flex-end"},o.a.createElement(he.a,{onClick:n},"Cancel"),o.a.createElement(he.a,{variant:"contained",color:"primary",onClick:a,disabled:t},"Ok"))}ve.defaultProps={isOkDisabled:!1,onOkClick:function(){},onCancelClick:function(){}};var Ce=ve,ke=a(279),Oe=a.n(ke),ye=a(361),je=a(363),xe=a(608);function we(e){var t=e.value,a=e.onChange;return o.a.createElement(me.a,{component:"fieldset",margin:"dense",required:!0},o.a.createElement(pe.a,{component:"legend"},"Method"),o.a.createElement(je.a,{row:!0,value:t,onChange:a},["GET","POST","PUT","DELETE"].map((function(e){return o.a.createElement(ye.a,{key:e,value:e,control:o.a.createElement(xe.a,null),label:e})}))))}we.defaultProps={value:"",onChange:function(){}};var Ie=we,Pe=a(609),Ae=a(605),Se=a(604),De=a(280),ze=a(396),Re=a.n(ze),Ne=(a(565),a(567),a(568),Object(j.a)((function(e){return{editor:{"& .jsoneditor":{border:0},"& .jsoneditor-menu":{backgroundColor:e.palette.background.default,border:0}}}})));var Le=function(e){var t=Ne();return o.a.createElement(w.a,{className:t.editor},o.a.createElement(De.a,Object.assign({mode:De.a.modes.code,ace:Re.a,theme:"ace/theme/monokai"},e)))},We=Object(j.a)((function(e){return{panel:{"&:not(:first-child)":{marginTop:-1}},summary:{alignItems:"center",margin:0,"& button + button":{marginLeft:e.spacing(1)}}}}));function Be(e){var t=e.response,a=e.isCurrent,n=e.isExpanded,r=e.onExpandedChange,c=e.onChange,i=e.onCopyClick,s=e.onDeleteClick,l=We(),u=function(e,a){c(Object(C.a)({},t,Object(oe.a)({},e,a)))};return o.a.createElement(Pe.a,{className:l.panel,key:t.id,variant:"outlined",square:!0,expanded:n,onChange:r},o.a.createElement(Ae.a,{classes:{content:l.summary}},o.a.createElement(ne,{status:t.status,mr:1}),t.name,a&&o.a.createElement(w.a,{component:"span",ml:1,color:"secondary.main"},"(current)"),o.a.createElement(w.a,{ml:"auto"},o.a.createElement(A.a,{size:"small",onClick:function(e){return function(e){e.stopPropagation(),i()}(e)}},o.a.createElement(S.a,{fontSize:"inherit"},"file_copy")),o.a.createElement(A.a,{size:"small",onClick:function(e){return function(e){e.stopPropagation(),s()}(e)}},o.a.createElement(S.a,{fontSize:"inherit"},"delete")))),o.a.createElement(Se.a,null,o.a.createElement(w.a,{display:"flex",flex:1},o.a.createElement(w.a,{flex:"none"},o.a.createElement(de.a,{fullWidth:!0,id:"das-response-status-".concat(t.id),name:"das-response-status",label:"Status",size:"small",type:"number",value:t.status,onChange:function(e){u("status",+e.target.value)},placeholder:"Status code",autoFocus:!0})),o.a.createElement(w.a,{flex:1,ml:2},o.a.createElement(de.a,{fullWidth:!0,id:"das-response-name-".concat(t.id),name:"das-response-name",label:"Name",size:"small",value:t.name,onChange:function(e){return u("name",e.target.value)},placeholder:"Response name"})))),o.a.createElement(Le,{value:t.body,onChange:function(e){return u("body",e)}}))}Be.defaultProps={isCurrent:!1,isExpanded:!1,onExpandedChange:function(){},onChange:function(){},onCopyClick:function(){},onDeleteClick:function(){}};var Fe=Be,Te=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}})),qe={id:null,method:"GET",path:"",description:"",responses:[],currentResponseID:null};function _e(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=o.a.useState(qe),i=Object(k.a)(c,2),s=i[0],l=i[1],u=o.a.useState(null),d=Object(k.a)(u,2),m=d[0],p=d[1],f=Te(),h=B(),b=W(te.updateAPI),E=Object(k.a)(b,2),g=E[0],v=E[1],O=W(te.createAPI),y=Object(k.a)(O,2),j=y[0],x=y[1];o.a.useEffect((function(){t&&l(a?{id:a.id,method:a.method,path:a.path,description:a.description,responses:a.responses,currentResponseID:a.currentResponseID}:qe)}),[t,a]),o.a.useEffect((function(){g.data&&(h.success(g.data.message),n(s)),g.error&&h.error(g.error.message)}),[g.data,g.error]),o.a.useEffect((function(){j.data&&(h.success(j.data.message),n(j.data)),j.error&&h.error(j.error.message)}),[j.data,j.error]);var I=!!s.path.length,P=!!s.responses.length,A=I&&P,D=function(e,t){l(Object(C.a)({},s,Object(oe.a)({},e,t)))};return o.a.createElement(ce.a,{className:f.modal,open:t,BackdropComponent:ie.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(le.a,{in:t},o.a.createElement(ue.a,{className:f.container,maxWidth:"md"},o.a.createElement(se.a,{className:f.paper,square:!0,elevation:5},o.a.createElement(Ee,{title:a?"Edit API":"Add API",onCloseClick:r}),o.a.createElement(w.a,{p:3,py:2,overflow:"auto"},o.a.createElement(Ie,{value:s.method,onChange:function(e){return D("method",e.target.value)}}),o.a.createElement(de.a,{fullWidth:!0,required:!0,id:"das-api-path",name:"das-api-path",label:"Path",size:"small",margin:"normal",value:s.path,error:!I,onChange:function(e){return D("path",e.target.value)},placeholder:"API path e.g. /api/user/:userId",helperText:"API path with method should be unique and not empty.",autoFocus:!0}),o.a.createElement(de.a,{fullWidth:!0,id:"das-api-description",name:"das-api-description",label:"Description",size:"small",margin:"normal",value:s.description,onChange:function(e){return D("description",e.target.value)},placeholder:"API description"}),o.a.createElement(me.a,{margin:"normal",fullWidth:!0,required:!0},o.a.createElement(pe.a,{component:"legend",error:!P},"Responses"),!P&&o.a.createElement(fe.a,{error:!0},"Should have at least one response."),o.a.createElement(w.a,{my:1},s.responses.map((function(e,t){return o.a.createElement(Fe,{key:e.id,response:e,isCurrent:e.id===s.currentResponseID,isExpanded:m===e.id,onExpandedChange:function(t,a){!function(e,t){p(t?e:null)}(e.id,a)},onChange:function(e){return function(e,t){var a=[].concat(Object(re.a)(s.responses.slice(0,e)),[t],Object(re.a)(s.responses.slice(e+1)));l(Object(C.a)({},s,{responses:a}))}(t,e)},onCopyClick:function(){return function(e){var t=s.responses[e];if(t){var a=Object(C.a)({},t,{name:"".concat(t.name," (copied)"),id:Oe()()}),n=[].concat(Object(re.a)(s.responses),[a]);p(a.id),l(Object(C.a)({},s,{responses:n}))}}(t)},onDeleteClick:function(){return function(e){var t=s.responses[e];if(t){var a=[].concat(Object(re.a)(s.responses.slice(0,e)),Object(re.a)(s.responses.slice(e+1))),n=t.id===s.currentResponseID,r=s.currentResponseID;n&&(r=_()(a,"[0].id",null)),l(Object(C.a)({},s,{responses:a,currentResponseID:r}))}}(t)}})}))),o.a.createElement(he.a,{color:"secondary",startIcon:o.a.createElement(S.a,null,"add"),onClick:function(){var e={id:Oe()(),name:"",status:200,body:{}},t=[].concat(Object(re.a)(s.responses),[e]),a=s.currentResponseID;a||(a=e.id),p(e.id),l(Object(C.a)({},s,{responses:t,currentResponseID:a}))}},"Add Response"))),o.a.createElement(Ce,{isOkDisabled:!A,onOkClick:function(){s.id?v(s.id,s):x(s)},onCancelClick:r})))))}_e.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var Me=_e,Ge=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}}));function He(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=Ge(),i=B(),s=W(te.deleteAPI),l=Object(k.a)(s,2),u=l[0],d=l[1];o.a.useEffect((function(){u.data&&(i.success(u.data.message),n(u.data)),u.error&&i.error(u.error.message)}),[u.data,u.error]);return o.a.createElement(ce.a,{className:c.modal,open:t,BackdropComponent:ie.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(le.a,{in:t},o.a.createElement(ue.a,{className:c.container,maxWidth:"md"},o.a.createElement(se.a,{className:c.paper,square:!0,elevation:5},o.a.createElement(Ee,{title:"DeleteAPI",onCloseClick:r}),o.a.createElement(w.a,{p:3,py:2,overflow:"auto"},"Are you sure you want to remove this API?",o.a.createElement(w.a,{component:"span",ml:1,color:"secondary.main",fontWeight:"bold"},null===a||void 0===a?void 0:a.method," ",null===a||void 0===a?void 0:a.path)),o.a.createElement(Ce,{onOkClick:function(){d(a.id)},onCancelClick:r})))))}He.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var Je=He,Ue=Object(j.a)((function(e){return{actions:{"& button + button":{marginLeft:e.spacing(1)}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},table:{"& th:first-child":{width:"90px !important"},"& th:last-child":{width:"128px !important"}},disabledRow:{backgroundColor:e.palette.disabled},response:{width:"100%"}}}));var $e=function(){var e=o.a.useState([]),t=Object(k.a)(e,2),a=t[0],n=t[1],r=o.a.useState(null),c=Object(k.a)(r,2),i=c[0],s=c[1],l=o.a.useState(!1),u=Object(k.a)(l,2),d=u[0],m=u[1],p=o.a.useState(!1),f=Object(k.a)(p,2),h=f[0],b=f[1],E=Object(x.a)(),g=Ue(),v=B(),O=W(te.listAPIs,{isLoading:!0}),j=Object(k.a)(O,2),R=j[0],N=j[1],L=W(te.updateAPI),F=Object(k.a)(L,2),T=F[0],q=F[1];o.a.useEffect((function(){N()}),[]),o.a.useEffect((function(){T.data&&(v.success(T.data.message),N()),T.error&&v.error(T.error.message)}),[T.data,T.error]),o.a.useEffect((function(){R.data&&n(R.data.data),R.error&&v.error(R.error.message)}),[R.data,R.error]);var _=function(e){s(e),m(!0)},M=function(e){e&&N(),m(!1)},G=function(e){e&&N(),b(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:g.table},o.a.createElement(y.a,{title:"API lists",isLoading:R.isLoading||T.isLoading,columns:[{title:"Method",field:"method",cellStyle:{fontSize:"initial"}},{title:"API Path",field:"path",cellStyle:{fontSize:16,fontFamily:"monospace"}},{title:"Description",field:"description",cellStyle:{fontSize:"initial"}},{title:"Response",sorting:!1,searchable:!1,render:function(e){return o.a.createElement(I.a,{className:g.response,value:e.currentResponseID,onChange:function(t){return a=e.id,n=t.target.value,void q(a,{currentResponseID:n});var a,n}},e.responses.map((function(e){return o.a.createElement(P.a,{key:e.id,value:e.id},o.a.createElement(ne,{key:e.id,status:e.status,mr:1}),e.name)})))}},{title:"Actions",sorting:!1,searchable:!1,render:function(e){return o.a.createElement(w.a,{className:g.actions},o.a.createElement(D.a,{title:"Edit API"},o.a.createElement(A.a,{size:"small",onClick:function(){return _(e)}},o.a.createElement(S.a,{fontSize:"small"},"edit"))),o.a.createElement(D.a,{title:"Copy API"},o.a.createElement(A.a,{size:"small",onClick:function(){return function(e){s(Object(C.a)({},e,{description:"".concat(e.description," (copied)"),id:null})),m(!0)}(e)}},o.a.createElement(S.a,{fontSize:"small"},"file_copy"))),o.a.createElement(D.a,{title:e.disabled?"Enable API":"Disable API"},o.a.createElement(A.a,{size:"small",onClick:function(){return function(e){q(e.id,{disabled:!e.disabled})}(e)}},o.a.createElement(S.a,{fontSize:"small"},e.disabled?"visibility":"visibility_off"))),o.a.createElement(D.a,{title:"Delete API"},o.a.createElement(A.a,{size:"small",onClick:function(){return function(e){s(e),b(!0)}(e)}},o.a.createElement(S.a,{fontSize:"small"},"delete"))))}}],data:a,options:{paging:!1,tableLayout:"fixed",headerStyle:{fontSize:"initial"},rowStyle:function(e){return e.disabled&&{color:E.palette.text.disabled,backgroundColor:E.palette.action.disabledBackground}},searchFieldStyle:{width:360}},localization:{toolbar:{searchPlaceholder:"Search by method, path, description"}}})),o.a.createElement(Me,{open:d,data:i,onOk:function(e){return M(e)},onCancel:function(){return M()}}),o.a.createElement(Je,{open:h,data:i,onOk:function(e){return G(e)},onCancel:function(){return G()}}),o.a.createElement(D.a,{title:"Add API"},o.a.createElement(z.a,{className:g.fab,color:"primary",onClick:function(){return _()}},o.a.createElement(S.a,null,"add"))))};var Ke=function(){var e=Object(s.a)("(prefers-color-scheme: dark)"),t=o.a.useMemo((function(){return Object(l.a)({palette:{type:e?"dark":"light",primary:m.a,secondary:f.a}})}),[e]);return o.a.createElement(u.a,{theme:t},o.a.createElement(h.a,null),o.a.createElement(v.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o.a.createElement(b.a,{position:"sticky"},o.a.createElement(E.a,null,o.a.createElement(g.a,{variant:"h6"},"Dummy API Server"))),o.a.createElement($e,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[407,1,2]]]);
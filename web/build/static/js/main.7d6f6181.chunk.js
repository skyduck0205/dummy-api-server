(this["webpackJsonpdummy-web"]=this["webpackJsonpdummy-web"]||[]).push([[0],{279:function(e,t,a){e.exports=a(563)},407:function(e,t,a){e.exports=a(569)},563:function(e,t){e.exports=function(){return Date.now().toString(36)}},569:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"listAPIs",(function(){return $})),a.d(n,"createAPI",(function(){return Q})),a.d(n,"updateAPI",(function(){return X})),a.d(n,"deleteAPI",(function(){return Z}));var r=a(0),o=a.n(r),c=a(15),i=a.n(c),l=a(587),s=a(116),u=a(600),d=a(271),m=a.n(d),p=a(397),f=a.n(p),h=a(603),b=a(601),g=a(334),E=a(92),v=a(228),C=a(32),k=a(33),y=a(386),O=a.n(y),j=a(328),x=a(16),w=a(263),P=a(276),I=a(333),A=a(212),S=a(331),D=a(335),z=a(606),N=a(60),L=a.n(N),R=a(105);function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.useState)(Object(C.a)({isLoading:!1,data:null,error:null},t)),n=Object(k.a)(a,2),o=n[0],c=n[1],i=Object(r.useRef)(0),l=Object(r.useCallback)(function(){var t=Object(R.a)(L.a.mark((function t(){var a,n,r=arguments;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.current+1,i.current=a,c((function(e){return Object(C.a)({},e,{isLoading:!0})})),t.prev=3,t.next=6,e.apply(void 0,r);case 6:n=t.sent,a===i.current&&c({isLoading:!1,data:n,error:null}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a===i.current&&c({isLoading:!1,data:null,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),[e]);return[o,l]}var F=function(){var e=Object(v.b)().enqueueSnackbar;return o.a.useMemo((function(){return{default:function(t,a){return e(t,Object(C.a)({},a))},success:function(t,a){return e(t,Object(C.a)({variant:"success"},a))},error:function(t,a){return e(t,Object(C.a)({variant:"error"},a))},warning:function(t,a){return e(t,Object(C.a)({variant:"warning"},a))},info:function(t,a){return e(t,Object(C.a)({variant:"info"},a))}}}),[e])},W=a(132),T=a.n(W),q=a(106),_=a.n(q),M=a(393),G=a(398),H=a(394),J=a(399),U=function(e){Object(H.a)(a,e);var t=Object(G.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(M.a)(this,a),(e=t.call(this,n.message)).code=n.code,e.message=n.message,e.data=n.data,e}return a}(Object(J.a)(Error));function $(){return K.apply(this,arguments)}function K(){return(K=Object(R.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("/_ds/apis");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Q(e){return V.apply(this,arguments)}function V(){return(V=Object(R.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("/_ds/apis",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function X(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(R.a)(L.a.mark((function e(t,a){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.patch("/_ds/apis/".concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(R.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete("/_ds/apis/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new U({message:_()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}T.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response&&e.response.data)}));var te=n,ae=a(400);var ne=function(e){var t=e.status,a=Object(ae.a)(e,["status"]);return o.a.createElement(w.a,Object.assign({component:"span",color:t>=200&&t<300?"success.main":"error.main"},a),t)},re=a(125),oe=a(227),ce=a(584),ie=a(131),le=a(129),se=a(602),ue=a(351),de=a(269),me=a(582),pe=a(583);function fe(e){var t=e.title,a=e.onCloseClick;return o.a.createElement(w.a,{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(E.a,{variant:"h5"},t),o.a.createElement(A.a,{size:"small",onClick:a},o.a.createElement(S.a,null,"close")))}fe.defaultProps={title:"",onCloseClick:function(){}};var he=fe,be=a(352),ge=Object(j.a)((function(e){return{footer:{"& button + button":{marginLeft:e.spacing(2)}}}}));function Ee(e){var t=e.isOkDisabled,a=e.onOkClick,n=e.onCancelClick,r=ge();return o.a.createElement(w.a,{className:r.footer,p:3,py:2,display:"flex",justifyContent:"flex-end"},o.a.createElement(be.a,{onClick:n},"Cancel"),o.a.createElement(be.a,{variant:"contained",color:"primary",onClick:a,disabled:t},"Ok"))}Ee.defaultProps={isOkDisabled:!1,onOkClick:function(){},onCancelClick:function(){}};var ve=Ee,Ce=a(361),ke=a(363),ye=a(608);function Oe(e){var t=e.value,a=e.onChange;return o.a.createElement(de.a,{component:"fieldset",margin:"dense",required:!0},o.a.createElement(me.a,{component:"legend"},"Method"),o.a.createElement(ke.a,{row:!0,value:t,onChange:a},["GET","POST","PUT","DELETE"].map((function(e){return o.a.createElement(Ce.a,{key:e,value:e,control:o.a.createElement(ye.a,null),label:e})}))))}Oe.defaultProps={value:"",onChange:function(){}};var je=Oe,xe=a(107),we=a(279),Pe=a.n(we),Ie=a(609),Ae=a(605),Se=a(604),De=a(280),ze=a(396),Ne=a.n(ze),Le=(a(565),a(567),a(568),Object(j.a)((function(e){return{editor:{"& .jsoneditor":{border:0},"& .jsoneditor-menu":{backgroundColor:e.palette.background.default,border:0}}}})));var Re=function(e){var t=Le();return o.a.createElement(w.a,{className:t.editor},o.a.createElement(De.a,Object.assign({mode:De.a.modes.code,ace:Ne.a,theme:"ace/theme/monokai"},e)))},Be=Object(j.a)((function(e){return{panel:{"&:not(:first-child)":{marginTop:-1}},summary:{alignItems:"center",margin:0,"& button + button":{marginLeft:e.spacing(1)}}}}));function Fe(e){var t=e.response,a=e.isCurrent,n=e.isExpanded,r=e.onExpandedChange,c=e.onChange,i=e.onCopyClick,l=e.onDeleteClick,s=Be(),u=function(e,a){c(Object(C.a)({},t,Object(re.a)({},e,a)))};return o.a.createElement(Ie.a,{className:s.panel,key:t.id,variant:"outlined",square:!0,expanded:n,onChange:r},o.a.createElement(Ae.a,{classes:{content:s.summary}},o.a.createElement(ne,{status:t.status,mr:1}),t.name,a&&o.a.createElement(w.a,{component:"span",ml:1,color:"secondary.main"},"(current)"),o.a.createElement(w.a,{ml:"auto"},o.a.createElement(A.a,{size:"small",onClick:function(e){e.stopPropagation(),i()}},o.a.createElement(S.a,{fontSize:"inherit"},"file_copy")),o.a.createElement(A.a,{size:"small",onClick:function(e){e.stopPropagation(),l()}},o.a.createElement(S.a,{fontSize:"inherit"},"delete")))),o.a.createElement(Se.a,null,o.a.createElement(w.a,{display:"flex",flex:1},o.a.createElement(w.a,{flex:"none"},o.a.createElement(ue.a,{fullWidth:!0,id:"das-response-status-".concat(t.id),name:"das-response-status",label:"Status",size:"small",type:"number",value:t.status,onChange:function(e){u("status",+e.target.value)},placeholder:"Status code",autoFocus:!0})),o.a.createElement(w.a,{flex:1,ml:2},o.a.createElement(ue.a,{fullWidth:!0,id:"das-response-name-".concat(t.id),name:"das-response-name",label:"Name",size:"small",value:t.name,onChange:function(e){return u("name",e.target.value)},placeholder:"Response name"})))),o.a.createElement(Re,{value:t.body,onChange:function(e){return u("body",e)}}))}Fe.defaultProps={isCurrent:!1,isExpanded:!1,onExpandedChange:function(){},onChange:function(){},onCopyClick:function(){},onDeleteClick:function(){}};var We=Fe;function Te(e){var t=e.value,a=e.current,n=e.onChange,r=e.onCurrentChange,c=o.a.useState(null),i=Object(k.a)(c,2),l=i[0],s=i[1],u=function(e,a){var r=[].concat(Object(xe.a)(t.slice(0,e)),[a],Object(xe.a)(t.slice(e+1)));n(r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{my:1},t.map((function(e,c){return o.a.createElement(We,{key:e.id,response:e,isCurrent:e.id===a,isExpanded:e.id===l,onExpandedChange:function(t,a){!function(e,t){s(t?e:null)}(e.id,a)},onChange:function(e){return u(c,e)},onCopyClick:function(){return function(e){var a=t[e],r=Object(C.a)({},a,{name:"".concat(a.name," (copied)"),id:Pe()()}),o=[].concat(Object(xe.a)(t),[r]);s(r.id),n(o)}(c)},onDeleteClick:function(){return function(e){var o=t[e],c=[].concat(Object(xe.a)(t.slice(0,e)),Object(xe.a)(t.slice(e+1)));n(c),o.id===a&&r(_()(c,"[0].id",null))}(c)}})}))),o.a.createElement(be.a,{color:"secondary",startIcon:o.a.createElement(S.a,null,"add"),onClick:function(){var e={id:Pe()(),name:"",status:200,body:{}},o=[].concat(Object(xe.a)(t),[e]);s(e.id),n(o),a||r(e.id)}},"Add Response"))}Te.defaultProps={value:[],current:null,onChange:function(){},onCurrentChange:function(){}};var qe=Te,_e=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}})),Me={id:null,method:"GET",path:"",description:"",responses:[],currentResponseID:null};function Ge(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=o.a.useState(Me),i=Object(k.a)(c,2),l=i[0],s=i[1],u=_e(),d=F(),m=B(te.updateAPI),p=Object(k.a)(m,2),f=p[0],h=p[1],b=B(te.createAPI),g=Object(k.a)(b,2),E=g[0],v=g[1];o.a.useEffect((function(){t&&s(a?{id:a.id,method:a.method,path:a.path,description:a.description,responses:a.responses,currentResponseID:a.currentResponseID}:Me)}),[t,a]),o.a.useEffect((function(){f.data&&(d.success(f.data.message),n(l)),f.error&&d.error(f.error.message)}),[f.data,f.error]),o.a.useEffect((function(){E.data&&(d.success(E.data.message),n(E.data)),E.error&&d.error(E.error.message)}),[E.data,E.error]);var y=!!l.path.length,O=!!l.responses.length,j=y&&O,x=function(e,t){s((function(a){return Object(C.a)({},a,Object(re.a)({},e,t))}))};return o.a.createElement(oe.a,{className:u.modal,open:t,BackdropComponent:ce.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(le.a,{in:t},o.a.createElement(se.a,{className:u.container,maxWidth:"md"},o.a.createElement(ie.a,{className:u.paper,square:!0,elevation:5},o.a.createElement(he,{title:a?"Edit API":"Add API",onCloseClick:r}),o.a.createElement(w.a,{p:3,py:2,overflow:"auto"},o.a.createElement(je,{value:l.method,onChange:function(e){return x("method",e.target.value)}}),o.a.createElement(ue.a,{fullWidth:!0,required:!0,id:"das-api-path",name:"das-api-path",label:"Path",size:"small",margin:"normal",value:l.path,error:!y,onChange:function(e){return x("path",e.target.value)},placeholder:"API path e.g. /api/user/:userId",helperText:"API path with method should be unique and not empty.",autoFocus:!0}),o.a.createElement(ue.a,{fullWidth:!0,id:"das-api-description",name:"das-api-description",label:"Description",size:"small",margin:"normal",value:l.description,onChange:function(e){return x("description",e.target.value)},placeholder:"API description"}),o.a.createElement(de.a,{margin:"normal",fullWidth:!0,required:!0},o.a.createElement(me.a,{component:"legend",error:!O},"Responses"),!O&&o.a.createElement(pe.a,{error:!0},"Should have at least one response."),o.a.createElement(qe,{value:l.responses,current:l.currentResponseID,onChange:function(e){return x("responses",e)},onCurrentChange:function(e){x("currentResponseID",e)}}))),o.a.createElement(ve,{isOkDisabled:!j,onOkClick:function(){l.id?h(l.id,l):v(l)},onCancelClick:r})))))}Ge.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var He=Ge,Je=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}}));function Ue(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=Je(),i=F(),l=B(te.deleteAPI),s=Object(k.a)(l,2),u=s[0],d=s[1];o.a.useEffect((function(){u.data&&(i.success(u.data.message),n(u.data)),u.error&&i.error(u.error.message)}),[u.data,u.error]);return o.a.createElement(oe.a,{className:c.modal,open:t,BackdropComponent:ce.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(le.a,{in:t},o.a.createElement(se.a,{className:c.container,maxWidth:"md"},o.a.createElement(ie.a,{className:c.paper,square:!0,elevation:5},o.a.createElement(he,{title:"DeleteAPI",onCloseClick:r}),o.a.createElement(w.a,{p:3,py:2,overflow:"auto"},"Are you sure you want to remove this API?",o.a.createElement(w.a,{component:"span",ml:1,color:"secondary.main",fontWeight:"bold"},null===a||void 0===a?void 0:a.method," ",null===a||void 0===a?void 0:a.path)),o.a.createElement(ve,{onOkClick:function(){d(a.id)},onCancelClick:r})))))}Ue.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var $e=Ue,Ke=Object(j.a)((function(e){return{actions:{"& button + button":{marginLeft:e.spacing(1)}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},table:{"& th:first-child":{width:"140px !important"},"& th:nth-child(2)":{width:"40% !important"},"& th:nth-child(3)":{width:"40% !important"},"& th:nth-child(4)":{width:"20% !important"},"& th:last-child":{width:"180px !important"},"& td":{wordBreak:"break-word"}},disabledRow:{backgroundColor:e.palette.disabled},response:{width:"100%"}}}));var Qe=function(){var e=o.a.useState([]),t=Object(k.a)(e,2),a=t[0],n=t[1],r=o.a.useState(null),c=Object(k.a)(r,2),i=c[0],l=c[1],s=o.a.useState(!1),u=Object(k.a)(s,2),d=u[0],m=u[1],p=o.a.useState(!1),f=Object(k.a)(p,2),h=f[0],b=f[1],g=Object(x.a)(),E=Ke(),v=F(),y=B(te.listAPIs,{isLoading:!0}),j=Object(k.a)(y,2),N=j[0],L=j[1],R=B(te.updateAPI),W=Object(k.a)(R,2),T=W[0],q=W[1];o.a.useEffect((function(){L()}),[]),o.a.useEffect((function(){T.data&&(v.success(T.data.message),L()),T.error&&v.error(T.error.message)}),[T.data,T.error]),o.a.useEffect((function(){N.data&&n(N.data.data),N.error&&v.error(N.error.message)}),[N.data,N.error]);var _=function(e){l(e),m(!0)},M=function(e){e&&L(),m(!1)},G=function(e){e&&L(),b(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:E.table},o.a.createElement(O.a,{title:"API lists",isLoading:N.isLoading||T.isLoading,columns:[{title:"Method",field:"method",cellStyle:{fontSize:"initial"}},{title:"API Path",field:"path",cellStyle:{fontSize:16,fontFamily:"monospace"}},{title:"Description",field:"description",cellStyle:{fontSize:"initial"}},{title:"Response",sorting:!1,searchable:!1,render:function(e){return o.a.createElement(P.a,{className:E.response,value:e.currentResponseID,onChange:function(t){return a=e.id,n=t.target.value,void q(a,{currentResponseID:n});var a,n}},e.responses.map((function(e){return o.a.createElement(I.a,{key:e.id,value:e.id},o.a.createElement(ne,{key:e.id,status:e.status,mr:1}),e.name)})))}},{title:"Actions",sorting:!1,searchable:!1,headerStyle:{textAlign:"right"},cellStyle:{textAlign:"right"},render:function(e){return o.a.createElement(w.a,{className:E.actions},o.a.createElement(D.a,{title:"Edit API"},o.a.createElement(A.a,{size:"small",onClick:function(){return _(e)}},o.a.createElement(S.a,{fontSize:"small"},"edit"))),o.a.createElement(D.a,{title:"Copy API"},o.a.createElement(A.a,{size:"small",onClick:function(){return function(e){l(Object(C.a)({},e,{description:"".concat(e.description," (copied)"),id:null})),m(!0)}(e)}},o.a.createElement(S.a,{fontSize:"small"},"file_copy"))),o.a.createElement(D.a,{title:e.disabled?"Enable API":"Disable API"},o.a.createElement(A.a,{size:"small",onClick:function(){return function(e){q(e.id,{disabled:!e.disabled})}(e)}},o.a.createElement(S.a,{fontSize:"small"},e.disabled?"visibility":"visibility_off"))),o.a.createElement(D.a,{title:"Delete API"},o.a.createElement(A.a,{size:"small",onClick:function(){return function(e){l(e),b(!0)}(e)}},o.a.createElement(S.a,{fontSize:"small"},"delete"))))}}],data:a,options:{paging:!1,tableLayout:"fixed",headerStyle:{fontSize:"initial"},rowStyle:function(e){return e.disabled&&{color:g.palette.text.disabled,backgroundColor:g.palette.action.disabledBackground}},searchFieldStyle:{width:360}},localization:{toolbar:{searchPlaceholder:"Search by method, path, description"}}})),o.a.createElement(He,{open:d,data:i,onOk:function(e){return M(e)},onCancel:function(){return M()}}),o.a.createElement($e,{open:h,data:i,onOk:function(e){return G(e)},onCancel:function(){return G()}}),o.a.createElement(D.a,{title:"Add API"},o.a.createElement(z.a,{className:E.fab,color:"primary",onClick:function(){return _()}},o.a.createElement(S.a,null,"add"))))};var Ve=function(){var e=Object(l.a)("(prefers-color-scheme: dark)"),t=o.a.useMemo((function(){return Object(s.a)({palette:{type:e?"dark":"light",primary:m.a,secondary:f.a}})}),[e]);return o.a.createElement(u.a,{theme:t},o.a.createElement(h.a,null),o.a.createElement(v.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o.a.createElement(b.a,{position:"sticky"},o.a.createElement(g.a,null,o.a.createElement(E.a,{variant:"h6"},"Dummy API Server"))),o.a.createElement(Qe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[407,1,2]]]);
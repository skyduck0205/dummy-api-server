(this["webpackJsonpdummy-web"]=this["webpackJsonpdummy-web"]||[]).push([[0],{280:function(e,t,a){e.exports=a(563)},407:function(e,t,a){e.exports=a(569)},563:function(e,t){e.exports=function(){return Date.now().toString(36)}},569:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getConfig",(function(){return F})),a.d(n,"listAPIs",(function(){return W})),a.d(n,"createAPI",(function(){return _})),a.d(n,"updateAPI",(function(){return G})),a.d(n,"deleteAPI",(function(){return J}));var r=a(0),o=a.n(r),c=a(15),i=a.n(c),l=a(27),s=a(587),u=a(329),d=a(117),m=a(600),p=a(272),f=a.n(p),h=a(398),g=a.n(h),b=a(603),E=a(601),v=a(346),C=a(268),k=a(94),O=a(230),y=a(50),j=a.n(y),x=a(92),w=a(33);function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.useState)(Object(w.a)({isLoading:!1,data:null,error:null},t)),n=Object(l.a)(a,2),o=n[0],c=n[1],i=Object(r.useRef)(0),s=Object(r.useCallback)(function(){var t=Object(x.a)(j.a.mark((function t(){var a,n,r=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.current+1,i.current=a,c((function(e){return Object(w.a)({},e,{isLoading:!0})})),t.prev=3,t.next=6,e.apply(void 0,r);case 6:n=t.sent,a===i.current&&c({isLoading:!1,data:n,error:null}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a===i.current&&c({isLoading:!1,data:null,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),[e]);return[o,s]}var I=a(107),A=a.n(I),S=a(93),D=a.n(S),z=a(387),N=a(399),L=a(388),R=a(400),B=function(e){Object(L.a)(a,e);var t=Object(N.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(z.a)(this,a),(e=t.call(this,n.message)).code=n.code,e.message=n.message,e.data=n.data,e}return a}(Object(R.a)(Error));function F(){return T.apply(this,arguments)}function T(){return(T=Object(x.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/_ds/config");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new B({message:D()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function W(){return q.apply(this,arguments)}function q(){return(q=Object(x.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/_ds/apis");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new B({message:D()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function _(e){return M.apply(this,arguments)}function M(){return(M=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/_ds/apis",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new B({message:D()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function G(e,t){return H.apply(this,arguments)}function H(){return(H=Object(x.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.patch("/_ds/apis/".concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new B({message:D()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function J(e){return U.apply(this,arguments)}function U(){return(U=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/_ds/apis/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new B({message:D()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}A.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response&&e.response.data)}));var $=n,K=a(389),Q=a.n(K),V=a(16),X=a(213),Y=a(343),Z=a(347),ee=a(606);var te=function(){var e=Object(O.b)().enqueueSnackbar;return o.a.useMemo((function(){return{default:function(t,a){return e(t,Object(w.a)({},a))},success:function(t,a){return e(t,Object(w.a)({variant:"success"},a))},error:function(t,a){return e(t,Object(w.a)({variant:"error"},a))},warning:function(t,a){return e(t,Object(w.a)({variant:"warning"},a))},info:function(t,a){return e(t,Object(w.a)({variant:"info"},a))}}}),[e])},ae=a(228),ne=a(277),re=a(345);var oe=function(e){var t=e.status,a=Object(ae.a)(e,["status"]);return o.a.createElement(C.a,Object.assign({component:"span",color:t>=200&&t<300?"success.main":"error.main"},a),t)};function ce(e){var t=e.responses,a=e.value,n=e.onChange,r=Object(ae.a)(e,["responses","value","onChange"]);return o.a.createElement(ne.a,Object.assign({value:a,onChange:n},r),t.map((function(e){return o.a.createElement(re.a,{key:e.id,value:e.id},o.a.createElement(oe,{key:e.id,status:e.status,mr:1}),e.name)})))}ce.defaultProps={responses:[],value:null,onChange:function(){}};var ie=ce,le=a(126),se=a(227),ue=a(584),de=a(132),me=a(131),pe=a(602),fe=a(363),he=a(270),ge=a(582),be=a(583);function Ee(e){var t=e.title,a=e.onCloseClick;return o.a.createElement(C.a,{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(k.a,{variant:"h5"},t),o.a.createElement(X.a,{size:"small",onClick:a},o.a.createElement(Y.a,null,"close")))}Ee.defaultProps={title:"",onCloseClick:function(){}};var ve=Ee,Ce=a(364),ke=Object(u.a)((function(e){return{footer:{"& button + button":{marginLeft:e.spacing(2)}}}}));function Oe(e){var t=e.isOkDisabled,a=e.onOkClick,n=e.onCancelClick,r=ke();return o.a.createElement(C.a,{className:r.footer,p:3,py:2,display:"flex",justifyContent:"flex-end"},o.a.createElement(Ce.a,{onClick:n},"Cancel"),o.a.createElement(Ce.a,{variant:"contained",color:"primary",onClick:a,disabled:t},"Ok"))}Oe.defaultProps={isOkDisabled:!1,onOkClick:function(){},onCancelClick:function(){}};var ye=Oe,je=a(373),xe=a(375),we=a(608);function Pe(e){var t=e.value,a=e.onChange;return o.a.createElement(he.a,{component:"fieldset",margin:"dense",required:!0},o.a.createElement(ge.a,{component:"legend"},"Method"),o.a.createElement(xe.a,{row:!0,value:t,onChange:a},["GET","POST","PUT","DELETE"].map((function(e){return o.a.createElement(je.a,{key:e,value:e,control:o.a.createElement(we.a,null),label:e})}))))}Pe.defaultProps={value:"",onChange:function(){}};var Ie=Pe,Ae=a(108),Se=a(280),De=a.n(Se),ze=a(609),Ne=a(605),Le=a(604),Re=a(281),Be=a(397),Fe=a.n(Be),Te=(a(565),a(567),a(568),Object(u.a)((function(e){return{editor:{"& .jsoneditor":{border:0},"& .jsoneditor-menu":{backgroundColor:e.palette.background.default,border:0}}}})));var We=function(e){var t=Te();return o.a.createElement(C.a,{className:t.editor},o.a.createElement(Re.a,Object.assign({mode:Re.a.modes.code,ace:Fe.a,theme:"ace/theme/monokai"},e)))},qe=Object(u.a)((function(e){return{panel:{"&:not(:first-child)":{marginTop:-1}},summary:{alignItems:"center",margin:0,"& button + button":{marginLeft:e.spacing(1)}}}}));function _e(e){var t=e.response,a=e.isCurrent,n=e.isExpanded,r=e.onExpandedChange,c=e.onChange,i=e.onCopyClick,l=e.onDeleteClick,s=qe(),u=function(e,a){c(Object(w.a)({},t,Object(le.a)({},e,a)))};return o.a.createElement(ze.a,{className:s.panel,key:t.id,variant:"outlined",square:!0,expanded:n,onChange:r},o.a.createElement(Ne.a,{classes:{content:s.summary}},o.a.createElement(oe,{status:t.status,mr:1}),t.name,a&&o.a.createElement(C.a,{component:"span",ml:1,color:"secondary.main"},"(current)"),o.a.createElement(C.a,{ml:"auto"},o.a.createElement(X.a,{size:"small",onClick:function(e){e.stopPropagation(),i()}},o.a.createElement(Y.a,{fontSize:"inherit"},"file_copy")),o.a.createElement(X.a,{size:"small",onClick:function(e){e.stopPropagation(),l()}},o.a.createElement(Y.a,{fontSize:"inherit"},"delete")))),o.a.createElement(Le.a,null,o.a.createElement(C.a,{display:"flex",flex:1},o.a.createElement(C.a,{flex:"none"},o.a.createElement(fe.a,{fullWidth:!0,id:"das-response-status-".concat(t.id),name:"das-response-status",label:"Status",size:"small",type:"number",value:t.status,onChange:function(e){u("status",+e.target.value)},placeholder:"Status code",autoFocus:!0})),o.a.createElement(C.a,{flex:1,ml:2},o.a.createElement(fe.a,{fullWidth:!0,id:"das-response-name-".concat(t.id),name:"das-response-name",label:"Name",size:"small",value:t.name,onChange:function(e){return u("name",e.target.value)},placeholder:"Response name"})))),o.a.createElement(We,{value:t.body,onChange:function(e){return u("body",e)}}))}_e.defaultProps={isCurrent:!1,isExpanded:!1,onExpandedChange:function(){},onChange:function(){},onCopyClick:function(){},onDeleteClick:function(){}};var Me=_e;function Ge(e){var t=e.value,a=e.current,n=e.onChange,r=e.onCurrentChange,c=o.a.useState(null),i=Object(l.a)(c,2),s=i[0],u=i[1],d=function(e,a){var r=[].concat(Object(Ae.a)(t.slice(0,e)),[a],Object(Ae.a)(t.slice(e+1)));n(r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{my:1},t.map((function(e,c){return o.a.createElement(Me,{key:e.id,response:e,isCurrent:e.id===a,isExpanded:e.id===s,onExpandedChange:function(t,a){!function(e,t){u(t?e:null)}(e.id,a)},onChange:function(e){return d(c,e)},onCopyClick:function(){return function(e){var a=t[e],r=Object(w.a)({},a,{name:"".concat(a.name," (copied)"),id:De()()}),o=[].concat(Object(Ae.a)(t),[r]);u(r.id),n(o)}(c)},onDeleteClick:function(){return function(e){var o=t[e],c=[].concat(Object(Ae.a)(t.slice(0,e)),Object(Ae.a)(t.slice(e+1)));n(c),o.id===a&&r(D()(c,"[0].id",null))}(c)}})}))),o.a.createElement(Ce.a,{color:"secondary",startIcon:o.a.createElement(Y.a,null,"add"),onClick:function(){var e={id:De()(),name:"",status:200,body:{}},o=[].concat(Object(Ae.a)(t),[e]);u(e.id),n(o),a||r(e.id)}},"Add Response"))}Ge.defaultProps={value:[],current:null,onChange:function(){},onCurrentChange:function(){}};var He=Ge,Je=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}})),Ue={id:null,method:"GET",path:"",description:"",responses:[],currentResponseID:null};function $e(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=o.a.useState(Ue),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Je(),m=te(),p=P($.updateAPI),f=Object(l.a)(p,2),h=f[0],g=f[1],b=P($.createAPI),E=Object(l.a)(b,2),v=E[0],k=E[1];o.a.useEffect((function(){t&&u(a?{id:a.id,method:a.method,path:a.path,description:a.description,responses:a.responses,currentResponseID:a.currentResponseID}:Ue)}),[t,a]),o.a.useEffect((function(){h.data&&(m.success(h.data.message),n(s)),h.error&&m.error(h.error.message)}),[h.data,h.error]),o.a.useEffect((function(){v.data&&(m.success(v.data.message),n(v.data)),v.error&&m.error(v.error.message)}),[v.data,v.error]);var O=!!s.path.length,y=!!s.responses.length,j=O&&y,x=function(e,t){u((function(a){return Object(w.a)({},a,Object(le.a)({},e,t))}))};return o.a.createElement(se.a,{className:d.modal,open:t,BackdropComponent:ue.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(me.a,{in:t},o.a.createElement(pe.a,{className:d.container,maxWidth:"md"},o.a.createElement(de.a,{className:d.paper,square:!0,elevation:5},o.a.createElement(ve,{title:a?"Edit API":"Add API",onCloseClick:r}),o.a.createElement(C.a,{p:3,py:2,overflow:"auto"},o.a.createElement(Ie,{value:s.method,onChange:function(e){return x("method",e.target.value)}}),o.a.createElement(fe.a,{fullWidth:!0,required:!0,id:"das-api-path",name:"das-api-path",label:"Path",size:"small",margin:"normal",value:s.path,error:!O,onChange:function(e){return x("path",e.target.value)},placeholder:"API path e.g. /api/user/:userId",helperText:"API path with method should be unique and not empty.",autoFocus:!0}),o.a.createElement(fe.a,{fullWidth:!0,id:"das-api-description",name:"das-api-description",label:"Description",size:"small",margin:"normal",value:s.description,onChange:function(e){return x("description",e.target.value)},placeholder:"API description"}),o.a.createElement(he.a,{margin:"normal",fullWidth:!0,required:!0},o.a.createElement(ge.a,{component:"legend",error:!y},"Responses"),!y&&o.a.createElement(be.a,{error:!0},"Should have at least one response."),o.a.createElement(He,{value:s.responses,current:s.currentResponseID,onChange:function(e){return x("responses",e)},onCurrentChange:function(e){x("currentResponseID",e)}}))),o.a.createElement(ye,{isOkDisabled:!j,onOkClick:function(){s.id?g(s.id,s):k(s)},onCancelClick:r})))))}$e.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var Ke=$e,Qe=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}}));function Ve(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=Qe(),i=te(),s=P($.deleteAPI),u=Object(l.a)(s,2),d=u[0],m=u[1];o.a.useEffect((function(){d.data&&(i.success(d.data.message),n(d.data)),d.error&&i.error(d.error.message)}),[d.data,d.error]);return o.a.createElement(se.a,{className:c.modal,open:t,BackdropComponent:ue.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(me.a,{in:t},o.a.createElement(pe.a,{className:c.container,maxWidth:"md"},o.a.createElement(de.a,{className:c.paper,square:!0,elevation:5},o.a.createElement(ve,{title:"DeleteAPI",onCloseClick:r}),o.a.createElement(C.a,{p:3,py:2,overflow:"auto"},"Are you sure you want to remove this API?",o.a.createElement(C.a,{component:"span",ml:1,color:"secondary.main",fontWeight:"bold"},null===a||void 0===a?void 0:a.method," ",null===a||void 0===a?void 0:a.path)),o.a.createElement(ye,{onOkClick:function(){m(a.id)},onCancelClick:r})))))}Ve.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var Xe=Ve,Ye=Object(u.a)((function(e){return{actions:{"& button + button":{marginLeft:e.spacing(1)}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},table:{"& th:first-child":{width:"140px !important"},"& th:nth-child(2)":{width:"40% !important"},"& th:nth-child(3)":{width:"40% !important"},"& th:nth-child(4)":{width:"20% !important"},"& th:last-child":{width:"180px !important"},"& td":{wordBreak:"break-word"},"& .MuiToolbar-root":{padding:"0 16px"}},disabledRow:{backgroundColor:e.palette.disabled},response:{width:"100%"}}}));var Ze=function(){var e=o.a.useState([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=o.a.useState(null),c=Object(l.a)(r,2),i=c[0],s=c[1],u=o.a.useState(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],f=o.a.useState(!1),h=Object(l.a)(f,2),g=h[0],b=h[1],E=Object(V.a)(),v=Ye(),k=te(),O=P($.listAPIs,{isLoading:!0}),y=Object(l.a)(O,2),j=y[0],x=y[1],I=P($.updateAPI),A=Object(l.a)(I,2),S=A[0],D=A[1];o.a.useEffect((function(){x()}),[]),o.a.useEffect((function(){S.data&&(k.success(S.data.message),x()),S.error&&k.error(S.error.message)}),[S.data,S.error]),o.a.useEffect((function(){j.data&&n(j.data.data),j.error&&k.error(j.error.message)}),[j.data,j.error]);var z=function(e){s(e),p(!0)},N=function(e){e&&x(),p(!1)},L=function(e){e&&x(),b(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:v.table},o.a.createElement(Q.a,{title:"API lists",isLoading:j.isLoading||S.isLoading,columns:[{title:"Method",field:"method",cellStyle:{fontSize:"initial"}},{title:"API Path",field:"path",cellStyle:{fontSize:16,fontFamily:"monospace"}},{title:"Description",field:"description",cellStyle:{fontSize:"initial"}},{title:"Response",sorting:!1,searchable:!1,render:function(e){return o.a.createElement(ie,{className:v.response,responses:e.responses,value:e.currentResponseID,onChange:function(t){return a=e.id,n=t.target.value,void D(a,{currentResponseID:n});var a,n}})}},{title:"Actions",sorting:!1,searchable:!1,headerStyle:{textAlign:"right"},cellStyle:{textAlign:"right"},render:function(e){return o.a.createElement(C.a,{className:v.actions},o.a.createElement(Z.a,{title:"Edit API"},o.a.createElement(X.a,{size:"small",onClick:function(){return z(e)}},o.a.createElement(Y.a,{fontSize:"small"},"edit"))),o.a.createElement(Z.a,{title:"Copy API"},o.a.createElement(X.a,{size:"small",onClick:function(){return function(e){s(Object(w.a)({},e,{description:"".concat(e.description," (copied)"),id:null})),p(!0)}(e)}},o.a.createElement(Y.a,{fontSize:"small"},"file_copy"))),o.a.createElement(Z.a,{title:e.disabled?"Enable API":"Disable API"},o.a.createElement(X.a,{size:"small",onClick:function(){return function(e){D(e.id,{disabled:!e.disabled})}(e)}},o.a.createElement(Y.a,{fontSize:"small"},e.disabled?"visibility":"visibility_off"))),o.a.createElement(Z.a,{title:"Delete API"},o.a.createElement(X.a,{size:"small",onClick:function(){return function(e){s(e),b(!0)}(e)}},o.a.createElement(Y.a,{fontSize:"small"},"delete"))))}}],data:a,options:{paging:!1,tableLayout:"fixed",headerStyle:{fontSize:"initial"},rowStyle:function(e){return e.disabled&&{color:E.palette.text.disabled,backgroundColor:E.palette.action.disabledBackground}},searchFieldStyle:{width:360}},localization:{toolbar:{searchPlaceholder:"Search by method, path, description"}}})),o.a.createElement(Ke,{open:m,data:i,onOk:function(e){return N(e)},onCancel:function(){return N()}}),o.a.createElement(Xe,{open:g,data:i,onOk:function(e){return L(e)},onCancel:function(){return L()}}),o.a.createElement(Z.a,{title:"Add API"},o.a.createElement(ee.a,{className:v.fab,color:"primary",onClick:function(){return z()}},o.a.createElement(Y.a,null,"add"))))},et=Object(u.a)((function(){return{title:{flexGrow:1}}}));var tt=function(){var e=o.a.useState([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=et(),c=Object(s.a)("(prefers-color-scheme: dark)"),i=P($.getConfig),u=Object(l.a)(i,2),p=u[0],h=u[1],y=o.a.useMemo((function(){return Object(d.a)({palette:{type:c?"dark":"light",primary:f.a,secondary:g.a}})}),[c]);return o.a.useEffect((function(){h()}),[]),o.a.useEffect((function(){console.log("getConfigStatus",p.data),p.data&&n(p.data.data)}),[p.data]),o.a.createElement(m.a,{theme:y},o.a.createElement(b.a,null),o.a.createElement(O.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o.a.createElement(E.a,{position:"sticky"},o.a.createElement(v.a,null,o.a.createElement(k.a,{variant:"h6",className:r.title},"Dummy API Server"),o.a.createElement(C.a,null,a.name))),o.a.createElement(Ze,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[407,1,2]]]);
(this["webpackJsonpdummy-web"]=this["webpackJsonpdummy-web"]||[]).push([[0],{280:function(e,t,a){e.exports=a(563)},407:function(e,t,a){e.exports=a(569)},563:function(e,t){e.exports=function(){return Date.now().toString(36)}},569:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"listAPIs",(function(){return J})),a.d(n,"createAPI",(function(){return $})),a.d(n,"updateAPI",(function(){return Q})),a.d(n,"deleteAPI",(function(){return X}));var r=a(0),o=a.n(r),c=a(15),i=a.n(c),l=a(587),s=a(116),u=a(600),d=a(272),m=a.n(d),p=a(398),f=a.n(p),h=a(603),b=a(601),g=a(335),E=a(92),v=a(229),C=a(32),k=a(33),y=a(387),O=a.n(y),j=a(329),x=a(16),w=a(264),P=a(212),I=a(332),A=a(336),S=a(606),D=a(60),z=a.n(D),N=a(105);function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.useState)(Object(C.a)({isLoading:!1,data:null,error:null},t)),n=Object(k.a)(a,2),o=n[0],c=n[1],i=Object(r.useRef)(0),l=Object(r.useCallback)(function(){var t=Object(N.a)(z.a.mark((function t(){var a,n,r=arguments;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.current+1,i.current=a,c((function(e){return Object(C.a)({},e,{isLoading:!0})})),t.prev=3,t.next=6,e.apply(void 0,r);case 6:n=t.sent,a===i.current&&c({isLoading:!1,data:n,error:null}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a===i.current&&c({isLoading:!1,data:null,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),[e]);return[o,l]}var R=function(){var e=Object(v.b)().enqueueSnackbar;return o.a.useMemo((function(){return{default:function(t,a){return e(t,Object(C.a)({},a))},success:function(t,a){return e(t,Object(C.a)({variant:"success"},a))},error:function(t,a){return e(t,Object(C.a)({variant:"error"},a))},warning:function(t,a){return e(t,Object(C.a)({variant:"warning"},a))},info:function(t,a){return e(t,Object(C.a)({variant:"info"},a))}}}),[e])},B=a(132),F=a.n(B),T=a(106),W=a.n(T),q=a(394),_=a(399),M=a(395),G=a(400),H=function(e){Object(M.a)(a,e);var t=Object(_.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(q.a)(this,a),(e=t.call(this,n.message)).code=n.code,e.message=n.message,e.data=n.data,e}return a}(Object(G.a)(Error));function J(){return U.apply(this,arguments)}function U(){return(U=Object(N.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/_ds/apis");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new H({message:W()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function $(e){return K.apply(this,arguments)}function K(){return(K=Object(N.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("/_ds/apis",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new H({message:W()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Q(e,t){return V.apply(this,arguments)}function V(){return(V=Object(N.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.patch("/_ds/apis/".concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new H({message:W()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(N.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.delete("/_ds/apis/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new H({message:W()(e.t0,"message","")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}F.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response&&e.response.data)}));var Z=n,ee=a(230),te=a(277),ae=a(334);var ne=function(e){var t=e.status,a=Object(ee.a)(e,["status"]);return o.a.createElement(w.a,Object.assign({component:"span",color:t>=200&&t<300?"success.main":"error.main"},a),t)};function re(e){var t=e.responses,a=e.value,n=e.onChange,r=Object(ee.a)(e,["responses","value","onChange"]);return o.a.createElement(te.a,Object.assign({value:a,onChange:n},r),t.map((function(e){return o.a.createElement(ae.a,{key:e.id,value:e.id},o.a.createElement(ne,{key:e.id,status:e.status,mr:1}),e.name)})))}re.defaultProps={responses:[],value:null,onChange:function(){}};var oe=re,ce=a(125),ie=a(227),le=a(584),se=a(131),ue=a(129),de=a(602),me=a(352),pe=a(270),fe=a(582),he=a(583);function be(e){var t=e.title,a=e.onCloseClick;return o.a.createElement(w.a,{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},o.a.createElement(E.a,{variant:"h5"},t),o.a.createElement(P.a,{size:"small",onClick:a},o.a.createElement(I.a,null,"close")))}be.defaultProps={title:"",onCloseClick:function(){}};var ge=be,Ee=a(353),ve=Object(j.a)((function(e){return{footer:{"& button + button":{marginLeft:e.spacing(2)}}}}));function Ce(e){var t=e.isOkDisabled,a=e.onOkClick,n=e.onCancelClick,r=ve();return o.a.createElement(w.a,{className:r.footer,p:3,py:2,display:"flex",justifyContent:"flex-end"},o.a.createElement(Ee.a,{onClick:n},"Cancel"),o.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:a,disabled:t},"Ok"))}Ce.defaultProps={isOkDisabled:!1,onOkClick:function(){},onCancelClick:function(){}};var ke=Ce,ye=a(362),Oe=a(364),je=a(608);function xe(e){var t=e.value,a=e.onChange;return o.a.createElement(pe.a,{component:"fieldset",margin:"dense",required:!0},o.a.createElement(fe.a,{component:"legend"},"Method"),o.a.createElement(Oe.a,{row:!0,value:t,onChange:a},["GET","POST","PUT","DELETE"].map((function(e){return o.a.createElement(ye.a,{key:e,value:e,control:o.a.createElement(je.a,null),label:e})}))))}xe.defaultProps={value:"",onChange:function(){}};var we=xe,Pe=a(107),Ie=a(280),Ae=a.n(Ie),Se=a(609),De=a(605),ze=a(604),Ne=a(281),Le=a(397),Re=a.n(Le),Be=(a(565),a(567),a(568),Object(j.a)((function(e){return{editor:{"& .jsoneditor":{border:0},"& .jsoneditor-menu":{backgroundColor:e.palette.background.default,border:0}}}})));var Fe=function(e){var t=Be();return o.a.createElement(w.a,{className:t.editor},o.a.createElement(Ne.a,Object.assign({mode:Ne.a.modes.code,ace:Re.a,theme:"ace/theme/monokai"},e)))},Te=Object(j.a)((function(e){return{panel:{"&:not(:first-child)":{marginTop:-1}},summary:{alignItems:"center",margin:0,"& button + button":{marginLeft:e.spacing(1)}}}}));function We(e){var t=e.response,a=e.isCurrent,n=e.isExpanded,r=e.onExpandedChange,c=e.onChange,i=e.onCopyClick,l=e.onDeleteClick,s=Te(),u=function(e,a){c(Object(C.a)({},t,Object(ce.a)({},e,a)))};return o.a.createElement(Se.a,{className:s.panel,key:t.id,variant:"outlined",square:!0,expanded:n,onChange:r},o.a.createElement(De.a,{classes:{content:s.summary}},o.a.createElement(ne,{status:t.status,mr:1}),t.name,a&&o.a.createElement(w.a,{component:"span",ml:1,color:"secondary.main"},"(current)"),o.a.createElement(w.a,{ml:"auto"},o.a.createElement(P.a,{size:"small",onClick:function(e){e.stopPropagation(),i()}},o.a.createElement(I.a,{fontSize:"inherit"},"file_copy")),o.a.createElement(P.a,{size:"small",onClick:function(e){e.stopPropagation(),l()}},o.a.createElement(I.a,{fontSize:"inherit"},"delete")))),o.a.createElement(ze.a,null,o.a.createElement(w.a,{display:"flex",flex:1},o.a.createElement(w.a,{flex:"none"},o.a.createElement(me.a,{fullWidth:!0,id:"das-response-status-".concat(t.id),name:"das-response-status",label:"Status",size:"small",type:"number",value:t.status,onChange:function(e){u("status",+e.target.value)},placeholder:"Status code",autoFocus:!0})),o.a.createElement(w.a,{flex:1,ml:2},o.a.createElement(me.a,{fullWidth:!0,id:"das-response-name-".concat(t.id),name:"das-response-name",label:"Name",size:"small",value:t.name,onChange:function(e){return u("name",e.target.value)},placeholder:"Response name"})))),o.a.createElement(Fe,{value:t.body,onChange:function(e){return u("body",e)}}))}We.defaultProps={isCurrent:!1,isExpanded:!1,onExpandedChange:function(){},onChange:function(){},onCopyClick:function(){},onDeleteClick:function(){}};var qe=We;function _e(e){var t=e.value,a=e.current,n=e.onChange,r=e.onCurrentChange,c=o.a.useState(null),i=Object(k.a)(c,2),l=i[0],s=i[1],u=function(e,a){var r=[].concat(Object(Pe.a)(t.slice(0,e)),[a],Object(Pe.a)(t.slice(e+1)));n(r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{my:1},t.map((function(e,c){return o.a.createElement(qe,{key:e.id,response:e,isCurrent:e.id===a,isExpanded:e.id===l,onExpandedChange:function(t,a){!function(e,t){s(t?e:null)}(e.id,a)},onChange:function(e){return u(c,e)},onCopyClick:function(){return function(e){var a=t[e],r=Object(C.a)({},a,{name:"".concat(a.name," (copied)"),id:Ae()()}),o=[].concat(Object(Pe.a)(t),[r]);s(r.id),n(o)}(c)},onDeleteClick:function(){return function(e){var o=t[e],c=[].concat(Object(Pe.a)(t.slice(0,e)),Object(Pe.a)(t.slice(e+1)));n(c),o.id===a&&r(W()(c,"[0].id",null))}(c)}})}))),o.a.createElement(Ee.a,{color:"secondary",startIcon:o.a.createElement(I.a,null,"add"),onClick:function(){var e={id:Ae()(),name:"",status:200,body:{}},o=[].concat(Object(Pe.a)(t),[e]);s(e.id),n(o),a||r(e.id)}},"Add Response"))}_e.defaultProps={value:[],current:null,onChange:function(){},onCurrentChange:function(){}};var Me=_e,Ge=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}})),He={id:null,method:"GET",path:"",description:"",responses:[],currentResponseID:null};function Je(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=o.a.useState(He),i=Object(k.a)(c,2),l=i[0],s=i[1],u=Ge(),d=R(),m=L(Z.updateAPI),p=Object(k.a)(m,2),f=p[0],h=p[1],b=L(Z.createAPI),g=Object(k.a)(b,2),E=g[0],v=g[1];o.a.useEffect((function(){t&&s(a?{id:a.id,method:a.method,path:a.path,description:a.description,responses:a.responses,currentResponseID:a.currentResponseID}:He)}),[t,a]),o.a.useEffect((function(){f.data&&(d.success(f.data.message),n(l)),f.error&&d.error(f.error.message)}),[f.data,f.error]),o.a.useEffect((function(){E.data&&(d.success(E.data.message),n(E.data)),E.error&&d.error(E.error.message)}),[E.data,E.error]);var y=!!l.path.length,O=!!l.responses.length,j=y&&O,x=function(e,t){s((function(a){return Object(C.a)({},a,Object(ce.a)({},e,t))}))};return o.a.createElement(ie.a,{className:u.modal,open:t,BackdropComponent:le.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(ue.a,{in:t},o.a.createElement(de.a,{className:u.container,maxWidth:"md"},o.a.createElement(se.a,{className:u.paper,square:!0,elevation:5},o.a.createElement(ge,{title:a?"Edit API":"Add API",onCloseClick:r}),o.a.createElement(w.a,{p:3,py:2,overflow:"auto"},o.a.createElement(we,{value:l.method,onChange:function(e){return x("method",e.target.value)}}),o.a.createElement(me.a,{fullWidth:!0,required:!0,id:"das-api-path",name:"das-api-path",label:"Path",size:"small",margin:"normal",value:l.path,error:!y,onChange:function(e){return x("path",e.target.value)},placeholder:"API path e.g. /api/user/:userId",helperText:"API path with method should be unique and not empty.",autoFocus:!0}),o.a.createElement(me.a,{fullWidth:!0,id:"das-api-description",name:"das-api-description",label:"Description",size:"small",margin:"normal",value:l.description,onChange:function(e){return x("description",e.target.value)},placeholder:"API description"}),o.a.createElement(pe.a,{margin:"normal",fullWidth:!0,required:!0},o.a.createElement(fe.a,{component:"legend",error:!O},"Responses"),!O&&o.a.createElement(he.a,{error:!0},"Should have at least one response."),o.a.createElement(Me,{value:l.responses,current:l.currentResponseID,onChange:function(e){return x("responses",e)},onCurrentChange:function(e){x("currentResponseID",e)}}))),o.a.createElement(ke,{isOkDisabled:!j,onOkClick:function(){l.id?h(l.id,l):v(l)},onCancelClick:r})))))}Je.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var Ue=Je,$e=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"start",justifyContent:"center",margin:e.spacing(5,"auto")},container:{display:"flex",flexDirection:"column",height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",maxHeight:"100%"}}}));function Ke(e){var t=e.open,a=e.data,n=e.onOk,r=e.onCancel,c=$e(),i=R(),l=L(Z.deleteAPI),s=Object(k.a)(l,2),u=s[0],d=s[1];o.a.useEffect((function(){u.data&&(i.success(u.data.message),n(u.data)),u.error&&i.error(u.error.message)}),[u.data,u.error]);return o.a.createElement(ie.a,{className:c.modal,open:t,BackdropComponent:le.a,BackdropProps:{timeout:200},closeAfterTransition:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableBackdropClick:!0},o.a.createElement(ue.a,{in:t},o.a.createElement(de.a,{className:c.container,maxWidth:"md"},o.a.createElement(se.a,{className:c.paper,square:!0,elevation:5},o.a.createElement(ge,{title:"DeleteAPI",onCloseClick:r}),o.a.createElement(w.a,{p:3,py:2,overflow:"auto"},"Are you sure you want to remove this API?",o.a.createElement(w.a,{component:"span",ml:1,color:"secondary.main",fontWeight:"bold"},null===a||void 0===a?void 0:a.method," ",null===a||void 0===a?void 0:a.path)),o.a.createElement(ke,{onOkClick:function(){d(a.id)},onCancelClick:r})))))}Ke.defaultProps={open:!1,data:null,onOk:function(){},onCancel:function(){}};var Qe=Ke,Ve=Object(j.a)((function(e){return{actions:{"& button + button":{marginLeft:e.spacing(1)}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},table:{"& th:first-child":{width:"140px !important"},"& th:nth-child(2)":{width:"40% !important"},"& th:nth-child(3)":{width:"40% !important"},"& th:nth-child(4)":{width:"20% !important"},"& th:last-child":{width:"180px !important"},"& td":{wordBreak:"break-word"},"& .MuiToolbar-root":{padding:"0 16px"}},disabledRow:{backgroundColor:e.palette.disabled},response:{width:"100%"}}}));var Xe=function(){var e=o.a.useState([]),t=Object(k.a)(e,2),a=t[0],n=t[1],r=o.a.useState(null),c=Object(k.a)(r,2),i=c[0],l=c[1],s=o.a.useState(!1),u=Object(k.a)(s,2),d=u[0],m=u[1],p=o.a.useState(!1),f=Object(k.a)(p,2),h=f[0],b=f[1],g=Object(x.a)(),E=Ve(),v=R(),y=L(Z.listAPIs,{isLoading:!0}),j=Object(k.a)(y,2),D=j[0],z=j[1],N=L(Z.updateAPI),B=Object(k.a)(N,2),F=B[0],T=B[1];o.a.useEffect((function(){z()}),[]),o.a.useEffect((function(){F.data&&(v.success(F.data.message),z()),F.error&&v.error(F.error.message)}),[F.data,F.error]),o.a.useEffect((function(){D.data&&n(D.data.data),D.error&&v.error(D.error.message)}),[D.data,D.error]);var W=function(e){l(e),m(!0)},q=function(e){e&&z(),m(!1)},_=function(e){e&&z(),b(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:E.table},o.a.createElement(O.a,{title:"API lists",isLoading:D.isLoading||F.isLoading,columns:[{title:"Method",field:"method",cellStyle:{fontSize:"initial"}},{title:"API Path",field:"path",cellStyle:{fontSize:16,fontFamily:"monospace"}},{title:"Description",field:"description",cellStyle:{fontSize:"initial"}},{title:"Response",sorting:!1,searchable:!1,render:function(e){return o.a.createElement(oe,{className:E.response,responses:e.responses,value:e.currentResponseID,onChange:function(t){return a=e.id,n=t.target.value,void T(a,{currentResponseID:n});var a,n}})}},{title:"Actions",sorting:!1,searchable:!1,headerStyle:{textAlign:"right"},cellStyle:{textAlign:"right"},render:function(e){return o.a.createElement(w.a,{className:E.actions},o.a.createElement(A.a,{title:"Edit API"},o.a.createElement(P.a,{size:"small",onClick:function(){return W(e)}},o.a.createElement(I.a,{fontSize:"small"},"edit"))),o.a.createElement(A.a,{title:"Copy API"},o.a.createElement(P.a,{size:"small",onClick:function(){return function(e){l(Object(C.a)({},e,{description:"".concat(e.description," (copied)"),id:null})),m(!0)}(e)}},o.a.createElement(I.a,{fontSize:"small"},"file_copy"))),o.a.createElement(A.a,{title:e.disabled?"Enable API":"Disable API"},o.a.createElement(P.a,{size:"small",onClick:function(){return function(e){T(e.id,{disabled:!e.disabled})}(e)}},o.a.createElement(I.a,{fontSize:"small"},e.disabled?"visibility":"visibility_off"))),o.a.createElement(A.a,{title:"Delete API"},o.a.createElement(P.a,{size:"small",onClick:function(){return function(e){l(e),b(!0)}(e)}},o.a.createElement(I.a,{fontSize:"small"},"delete"))))}}],data:a,options:{paging:!1,tableLayout:"fixed",headerStyle:{fontSize:"initial"},rowStyle:function(e){return e.disabled&&{color:g.palette.text.disabled,backgroundColor:g.palette.action.disabledBackground}},searchFieldStyle:{width:360}},localization:{toolbar:{searchPlaceholder:"Search by method, path, description"}}})),o.a.createElement(Ue,{open:d,data:i,onOk:function(e){return q(e)},onCancel:function(){return q()}}),o.a.createElement(Qe,{open:h,data:i,onOk:function(e){return _(e)},onCancel:function(){return _()}}),o.a.createElement(A.a,{title:"Add API"},o.a.createElement(S.a,{className:E.fab,color:"primary",onClick:function(){return W()}},o.a.createElement(I.a,null,"add"))))};var Ye=function(){var e=Object(l.a)("(prefers-color-scheme: dark)"),t=o.a.useMemo((function(){return Object(s.a)({palette:{type:e?"dark":"light",primary:m.a,secondary:f.a}})}),[e]);return o.a.createElement(u.a,{theme:t},o.a.createElement(h.a,null),o.a.createElement(v.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o.a.createElement(b.a,{position:"sticky"},o.a.createElement(g.a,null,o.a.createElement(E.a,{variant:"h6"},"Dummy API Server"))),o.a.createElement(Xe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[407,1,2]]]);